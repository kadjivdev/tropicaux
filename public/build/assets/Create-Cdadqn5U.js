import{a as p,u as x,j as e,H as h,L as f}from"./app-BcKeXBVE.js";import{A as g}from"./AuthenticatedLayout-rrvMZq0n.js";import{P as j}from"./PrimaryButton-COcKGEe4.js";import{I as v}from"./InputLabel-BSLoK891.js";import{T as N}from"./TextInput-9dKlgGf2.js";import{I as b}from"./InputError-CxfKo3kq.js";import{C as a}from"./index.esm--BWhNbRK.js";import{S as s}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{c as y}from"./cil-list-CLA-Txc1.js";import{c as w}from"./cil-send-haInf9fd.js";import{c as L}from"./cib-addthis-BMGhLLu9.js";import"./transition-CMU_JLfh.js";import"./ApplicationLogo-BQ7sbXEl.js";import"./logo-spwKF6je.js";function H({schools:C}){const i=p().props.auth.permissions,n=t=>i.some(r=>r.name==t),{data:l,setData:c,errors:m,post:d,processing:o,progress:O}=x({name:""}),u=t=>{t.preventDefault(),s.fire({title:"Opération en cours...",text:"Veuillez patienter pendant que nous traitons vos données.",allowOutsideClick:!1,didOpen:()=>{s.showLoading()}}),d(route("role.store"),{onStart:()=>{s.fire({title:'<span style="color: #facc15;">🫠 Opération en cours...</span>',text:"Veuillez patienter pendant que nous traitons vos données.",allowOutsideClick:!1}),s.showLoading()},onSuccess:()=>{s.close(),s.fire({title:'<span style="color: #2a7348;">👌Opération réussie </span>',text:"Utilisateur créée avec succès",confirmButtonText:"😇 Fermer"})},onError:r=>{s.close(),s.fire({title:'<span style="color: #facc15;">🤦‍♂️ Opération échouée </span>',text:`${r.exception??"Veuillez vérifier vos informations et réessayer."}`,confirmButtonText:"😇 Fermer"}),console.log(r)}})};return e.jsxs(g,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:[e.jsx(a,{className:"text-success",icon:L})," Nouveau rôle"]}),children:[e.jsx(h,{title:"Nouveau rôle"}),e.jsx("div",{className:"row py-12 justify-content-center",children:e.jsx("div",{className:"col-md-10 bg-white p-4 shadow sm:rounded-lg sm:p-8 dark:bg-gray-800",children:e.jsx("div",{className:"mx-auto _max-w-7xl space-y-6 sm:px-6 lg:px-8 ",children:e.jsxs("div",{className:"bg-light p-3 rounded border mb-5",children:[n("utilisateur.view")?e.jsx("div",{className:"text-center items-center gap-4",children:e.jsxs(f,{className:"btn btn-sm bg-success bg-hover text-white",href:route("role.index"),children:[e.jsx(a,{icon:y})," Liste des rôles"]})}):null,e.jsxs("form",{onSubmit:u,className:"mt-6 space-y-6",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs(v,{htmlFor:"name",value:"Nom du rôle",children:[e.jsx("span",{className:"text-danger",children:"*"})," "]}),e.jsx(N,{id:"name",type:"text",className:"mt-1  w-50",placeholder:"Ex: Superviseur",value:l.name,onChange:t=>c("name",t.target.value),autoComplete:"name",required:!0}),e.jsx(b,{className:"mt-2",message:m.name})]})})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(j,{disabled:o,children:[e.jsx(a,{icon:w})," ",o?"Enregistrement ...":"Enregistrer"]})})]})]})})})})]})}export{H as default};
