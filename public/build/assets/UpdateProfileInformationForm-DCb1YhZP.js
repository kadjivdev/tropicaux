import{u as v,a as h,j as e,L as j}from"./app-nfLeNANc.js";import{I as n}from"./InputError-BqJsdPiL.js";import{I as l}from"./InputLabel-DqsbX5Yu.js";import{P as y}from"./PrimaryButton-B561h_ZN.js";import{T as m}from"./TextInput-PL1pBLGW.js";import{C as u}from"./index.esm-Ba7oQv2p.js";import{S as s}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{c as N}from"./cil-user-follow-9sfVD_63.js";import{c as k}from"./cil-send-haInf9fd.js";function U({mustVerifyEmail:d,status:f,className:x=""}){const a=v().props.auth.user,{data:r,setData:i,patch:p,errors:o,processing:c,recentlySuccessful:C}=h({firstname:a.firstname,lastname:a.lastname,email:a.email}),g=t=>{t.preventDefault(),s.fire({title:"Opération en cours ...",text:"Veuillez patienter quelque instant",allowOutsideClick:!1,didOpen:()=>{s.showLoading()}}),p(route("profile.update"),{onSuccess:()=>{s.close(),s.fire({icon:"success",title:"Opération éffectuée avec succès",text:"Profile modifié avec succès"})},onError:b=>{s.close(),s.fire({icon:"error",title:"Opération échouée",text:"Une erreure est survenue au cours de l'opération! Réessayer."})}})};return e.jsxs("section",{className:x,children:[e.jsxs("header",{children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[e.jsx(u,{className:"text-danger",icon:N}),"  Vos Information de compte"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Mettez à jour les informations de profil et l'adresse e-mail de votre compte."})]}),e.jsxs("form",{onSubmit:g,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"lastname",value:"Lastname"}),e.jsx(m,{id:"lastname",className:"mt-1 block w-full",value:r.lastname,onChange:t=>i("lastname",t.target.value),required:!0,isFocused:!0,autoComplete:"lastname"}),e.jsx(n,{className:"mt-2",message:o.lastname})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"firstname",value:"Firstname"}),e.jsx(m,{id:"firstname",className:"mt-1 block w-full",value:r.firstname,onChange:t=>i("firstname",t.target.value),required:!0,isFocused:!0,autoComplete:"firstname"}),e.jsx(n,{className:"mt-2",message:o.firstname})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:t=>i("email",t.target.value),required:!0,autoComplete:"username"}),e.jsx(n,{className:"mt-2",message:o.email})]}),d&&a.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-gray-800 dark:text-gray-200",children:["Votre adresse e-mail n'est pas vérifiée.",e.jsx(j,{href:route("verification.send"),method:"post",as:"button",className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800",children:"Cliquez ici pour renvoyer l'e-mail de vérification."})]}),f==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600 dark:text-green-400",children:"Un nouveau lien de vérification a été envoyé à votre adresse e-mail."})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(y,{disabled:c,children:[" ",e.jsx(u,{icon:k})," ",c?"Enregistrement ...":"Enregistrer"," "]})})]})]})}export{U as default};
